

---------------- pthread_create/join ----------------

Thread #1 is the program's root thread

Thread #2 was created
   at 0x........: clone (in /...libc...)
   by 0x........: pthread_create@GLIBC_ (in /lib/libpthread...)
   by 0x........: pthread_create@* (tc_intercepts.c:...)
   by 0x........: main (tc20_verifywrap.c:64)

Possible data race during write of size 2 at 0x........
   at 0x........: main (tc20_verifywrap.c:66)
  Old state: owned exclusively by thread #2
  New state: shared-modified by threads #1, #2
  Reason:    this thread, #1, holds no locks at all

Thread #1's call to pthread_join failed
   with error code 35 (EDEADLK: Resource deadlock would occur)
   at 0x........: pthread_join (tc_intercepts.c:...)
   by 0x........: main (tc20_verifywrap.c:71)

---------------- pthread_mutex_lock et al ----------------


Thread #1's call to pthread_mutex_init failed
   with error code 95 (EOPNOTSUPP: Operation not supported on transport endpoint)
   at 0x........: pthread_mutex_init (tc_intercepts.c:...)
   by 0x........: main (tc20_verifywrap.c:80)

Thread #1: pthread_mutex_destroy of a locked mutex
   at 0x........: pthread_mutex_destroy (tc_intercepts.c:...)
   by 0x........: main (tc20_verifywrap.c:85)

Thread #1's call to pthread_mutex_destroy failed
   with error code 16 (EBUSY: Device or resource busy)
   at 0x........: pthread_mutex_destroy (tc_intercepts.c:...)
   by 0x........: main (tc20_verifywrap.c:85)

Thread #1's call to pthread_mutex_lock failed
   with error code 22 (EINVAL: Invalid argument)
   at 0x........: pthread_mutex_lock (tc_intercepts.c:...)
   by 0x........: main (tc20_verifywrap.c:89)

Thread #1's call to pthread_mutex_trylock failed
   with error code 22 (EINVAL: Invalid argument)
   at 0x........: pthread_mutex_trylock (tc_intercepts.c:...)
   by 0x........: main (tc20_verifywrap.c:93)

Thread #1's call to pthread_mutex_timedlock failed
   with error code 22 (EINVAL: Invalid argument)
   at 0x........: pthread_mutex_timedlock (tc_intercepts.c:...)
   by 0x........: main (tc20_verifywrap.c:98)

Thread #1 unlocked an invalid lock at 0x........ 
   at 0x........: pthread_mutex_unlock (tc_intercepts.c:...)
   by 0x........: main (tc20_verifywrap.c:102)

Thread #1's call to pthread_mutex_unlock failed
   with error code 22 (EINVAL: Invalid argument)
   at 0x........: pthread_mutex_unlock (tc_intercepts.c:...)
   by 0x........: main (tc20_verifywrap.c:102)

---------------- pthread_cond_wait et al ----------------


Thread #1 unlocked a not-locked lock at 0x........ 
   at 0x........: pthread_cond_wait@* (tc_intercepts.c:...)
   by 0x........: main (tc20_verifywrap.c:119)
  Lock at 0x........ was first observed
   at 0x........: pthread_mutex_init (tc_intercepts.c:...)
   by 0x........: main (tc20_verifywrap.c:117)

Thread #1's call to pthread_cond_wait failed
   with error code 1 (EPERM: Operation not permitted)
   at 0x........: pthread_cond_wait@* (tc_intercepts.c:...)
   by 0x........: main (tc20_verifywrap.c:119)

FIXME: can't figure out how to verify wrap of pthread_cond_signal


FIXME: can't figure out how to verify wrap of pthread_broadcast_signal


Thread #1's call to pthread_cond_timedwait failed
   with error code 22 (EINVAL: Invalid argument)
   at 0x........: pthread_cond_timedwait@* (tc_intercepts.c:...)
   by 0x........: main (tc20_verifywrap.c:137)

---------------- pthread_rwlock_* ----------------


Thread #1 unlocked a not-locked lock at 0x........ 
   at 0x........: pthread_rwlock_unlock (tc_intercepts.c:...)
   by 0x........: main (tc20_verifywrap.c:151)
  Lock at 0x........ was first observed
   at 0x........: pthread_rwlock_init (tc_intercepts.c:...)
   by 0x........: main (tc20_verifywrap.c:150)
(1) no error on next line
(2) no error on next line
(3)    ERROR on next line

Thread #1 unlocked a not-locked lock at 0x........ 
   at 0x........: pthread_rwlock_unlock (tc_intercepts.c:...)
   by 0x........: main (tc20_verifywrap.c:168)
  Lock at 0x........ was first observed
   at 0x........: pthread_rwlock_init (tc_intercepts.c:...)
   by 0x........: main (tc20_verifywrap.c:158)
(4) no error on next line
(5) no error on next line
(6) no error on next line
(7) no error on next line
(8)    ERROR on next line

Thread #1 unlocked a not-locked lock at 0x........ 
   at 0x........: pthread_rwlock_unlock (tc_intercepts.c:...)
   by 0x........: main (tc20_verifywrap.c:184)
  Lock at 0x........ was first observed
   at 0x........: pthread_rwlock_init (tc_intercepts.c:...)
   by 0x........: main (tc20_verifywrap.c:158)

---------------- sem_* ----------------


Thread #1's call to sem_init failed
   with error code 22 (EINVAL: Invalid argument)
   at 0x........: sem_init@* (tc_intercepts.c:...)
   by 0x........: main (tc20_verifywrap.c:200)

FIXME: can't figure out how to verify wrap of sem_destroy


Thread #1: Bug in libpthread: sem_wait succeeded on semaphore without prior sem_post
   at 0x........: sem_wait_WRK (tc_intercepts.c:...)
   by 0x........: sem_wait@* (tc_intercepts.c:...)
   by 0x........: main (tc20_verifywrap.c:214)

FIXME: can't figure out how to verify wrap of sem_post


------------ dealloc of mem holding locks ------------


Thread #1 deallocated location 0x........ containing a locked lock
   at 0x........: main (tc20_verifywrap.c:234)
  Lock at 0x........ was first observed
   at 0x........: pthread_rwlock_init (tc_intercepts.c:...)
   by 0x........: main (tc20_verifywrap.c:188)

Thread #1 deallocated location 0x........ containing a locked lock
   at 0x........: main (tc20_verifywrap.c:234)
  Lock at 0x........ was first observed
   at 0x........: pthread_mutex_init (tc_intercepts.c:...)
   by 0x........: main (tc20_verifywrap.c:117)

ERROR SUMMARY: 20 errors from 20 contexts (suppressed: 0 from 0)
